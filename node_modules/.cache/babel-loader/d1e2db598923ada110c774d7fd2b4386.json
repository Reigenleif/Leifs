{"ast":null,"code":"import _slicedToArray from\"D:/Ambisqu/React_Course/Projects/project_2_leifs/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Button from\"../UI/Button\";import style from\"./LoginSignup.module.css\";import AuthContext from\"../../Storage/AuthContext\";import{useContext,useState}from\"react\";import FormLabelInput from\"../UI/FormLabelInput\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=function LoginForm(props){var Authctx=useContext(AuthContext);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var usernameChangeHandler=function usernameChangeHandler(event){setUsername(event.target.value);};var passwordChangeHandler=function passwordChangeHandler(event){setPassword(event.target.value);};var usernameBlurHandler=function usernameBlurHandler(event){var val=event.target.value;var allowed=\"ABCDEFGHJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_\";for(var i in val){if(!allowed.includes(val[i])){Authctx.triggerValidation(\"103\");return;}}Authctx.triggerValidation(\"100\");};var passwordBlurHandler=function passwordBlurHandler(event){if(event.target.value.length<8){Authctx.triggerValidation(\"104\");return;}Authctx.triggerValidation(\"100\");};var onLoginHandler=function onLoginHandler(event){event.preventDefault();Authctx.onLogin(username,password);};var onSignupHandler=function onSignupHandler(event){Authctx.onSignup(username,password);};return/*#__PURE__*/_jsxs(\"div\",{className:style[\"container\"],children:[/*#__PURE__*/_jsx(\"div\",{className:style[\"form-title\"],children:\"Welcome!\"}),/*#__PURE__*/_jsxs(\"form\",{className:style[\"form-control\"],onSubmit:onLoginHandler,children:[/*#__PURE__*/_jsx(FormLabelInput,{label:\"Username\",value:username,onChange:usernameChangeHandler,onBlur:usernameBlurHandler}),/*#__PURE__*/_jsx(FormLabelInput,{label:\"Password\",inputType:\"password\",value:password,onChange:passwordChangeHandler,onBlur:passwordBlurHandler}),/*#__PURE__*/_jsx(\"div\",{className:style[\"form-control-buttons-wrapper\"],children:/*#__PURE__*/_jsxs(\"div\",{className:style[\"form-control-buttons\"],children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Log In\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"OR\"}),\" \",/*#__PURE__*/_jsx(Button,{onClick:onSignupHandler,children:\"Sign Up\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(style[\"form-notif\"],\" \").concat(Authctx.validation===\"100\"?\"\":style[\"invalid\"]),children:[\" \",\"\".concat(Authctx.validation===\"101\"?\"User Not Found\":Authctx.validation===\"102\"?\"Password doesn't match\":Authctx.validation===\"103\"?\"Username must be letters and underscores\":Authctx.validation===\"104\"?\"Password must be more than 8 characters\":\"\",\" \")]})]});};export default LoginForm;","map":{"version":3,"sources":["D:/Ambisqu/React_Course/Projects/project_2_leifs/src/Components/LoginSignup/LoginSignup.js"],"names":["Button","style","AuthContext","useContext","useState","FormLabelInput","LoginForm","props","Authctx","username","setUsername","password","setPassword","usernameChangeHandler","event","target","value","passwordChangeHandler","usernameBlurHandler","val","allowed","i","includes","triggerValidation","passwordBlurHandler","length","onLoginHandler","preventDefault","onLogin","onSignupHandler","onSignup","validation"],"mappings":"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","sourcesContent":["import Button from \"../UI/Button\";\r\nimport style from \"./LoginSignup.module.css\";\r\nimport AuthContext from \"../../Storage/AuthContext\";\r\nimport { useContext,useState } from \"react\";\r\nimport FormLabelInput from \"../UI/FormLabelInput\";\r\n\r\nconst LoginForm = (props) => {\r\n  const Authctx = useContext(AuthContext);\r\n\r\n  const [username, setUsername] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n\r\n  const usernameChangeHandler = (event) => {\r\n    setUsername(event.target.value)\r\n  }\r\n\r\n  const passwordChangeHandler = (event) => {\r\n    setPassword(event.target.value)\r\n  }\r\n\r\n  const usernameBlurHandler = (event) => {\r\n    const val = event.target.value \r\n    const allowed = \"ABCDEFGHJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_\"\r\n    for (let i in val) {\r\n      if (!(allowed.includes(val[i]))) {\r\n        Authctx.triggerValidation(\"103\")\r\n        return\r\n      }\r\n    }\r\n    Authctx.triggerValidation(\"100\")\r\n  }\r\n\r\n  const passwordBlurHandler = (event) => {\r\n    if (event.target.value.length < 8) {\r\n      Authctx.triggerValidation(\"104\")\r\n      return\r\n    }\r\n    Authctx.triggerValidation(\"100\")\r\n  }\r\n\r\n\r\n  const onLoginHandler = (event) => {\r\n    event.preventDefault();\r\n    Authctx.onLogin(username,password);\r\n  };\r\n\r\n  const onSignupHandler = (event) => {\r\n    Authctx.onSignup(username,password)\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={style[\"container\"]}>\r\n      <div className={style[\"form-title\"]}>Welcome!</div>\r\n      <form className={style[\"form-control\"]} onSubmit={onLoginHandler}>\r\n        <FormLabelInput label=\"Username\" value={username} onChange={usernameChangeHandler} onBlur={usernameBlurHandler}/>\r\n        <FormLabelInput label=\"Password\" inputType=\"password\" value={password} onChange={passwordChangeHandler} onBlur={passwordBlurHandler}/>\r\n        <div className={style[\"form-control-buttons-wrapper\"]}>\r\n          <div className={style[\"form-control-buttons\"]}>\r\n            <Button type=\"submit\">\r\n              Log In\r\n            </Button>{\" \"}\r\n            <span>OR</span> <Button onClick={onSignupHandler}>Sign Up</Button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n      <div\r\n        className={`${style[\"form-notif\"]} ${\r\n          Authctx.validation === \"100\" ? \"\" : style[\"invalid\"]\r\n        }`}\r\n      > {`${Authctx.validation === \"101\"? \"User Not Found\" :\r\n      Authctx.validation === \"102\" ? \"Password doesn't match\" : \r\n      Authctx.validation === \"103\" ? \"Username must be letters and underscores\" :\r\n      Authctx.validation === \"104\" ? \"Password must be more than 8 characters\": \"\"} `}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n"]},"metadata":{},"sourceType":"module"}